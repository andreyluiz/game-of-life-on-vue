(function(t){function e(e){for(var s,a,i=e[0],l=e[1],u=e[2],d=0,h=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},o={app:0},r=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1441:function(t,e,n){},2032:function(t,e,n){"use strict";var s=n("1441"),o=n.n(s);o.a},2445:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("c740"),n("d81d"),n("fb6a"),n("a434"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=n("2f62"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"simulator"},[n("div",{staticClass:"col controls"},[n("controls",{attrs:{started:t.$store.state.started,step:t.$store.state.step,rows:t.$store.state.rows,cols:t.$store.state.cols,speed:t.$store.state.speed},on:{start:t.handleStart,stop:t.handleStop,clear:t.handleClear,updateworld:t.handleUpdateWorld,updatespeed:t.handleUpdateSpeed,forceworld:t.handleForceWorld}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"row rules"},[n("rules",{attrs:{rules:t.$store.state.rules},on:{addrule:t.handleAddRule,removerule:t.handleRemoveRule}})],1),n("div",{staticClass:"row world"},[n("world",{attrs:{world:t.$store.state.world},on:{cellclick:t.handleCellClick}})],1)])])},a=[],i=(n("96cf"),n("1da1")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("button",{staticClass:"button",on:{click:t.handleStartStop}},[t.started?n("span",[t._v("Stop")]):n("span",[t._v("Start")])])]),n("div",{staticClass:"row"},[n("button",{staticClass:"button",on:{click:t.handleClear}},[t._v("Reset")])]),n("div",{staticClass:"step"},[n("span",{staticClass:"step-text"},[t._v("Step "+t._s(t.step))])]),n("div",{staticClass:"row"},[n("span",{staticClass:"title"},[t._v("Rows")]),n("input",{attrs:{name:"rows",type:"number"},domProps:{value:t.rows},on:{change:t.handleRowsChange}})]),n("div",{staticClass:"row"},[n("span",{staticClass:"title"},[t._v("Columns")]),n("input",{attrs:{name:"cols",type:"number"},domProps:{value:t.cols},on:{change:t.handleColsChange}})]),n("div",{staticClass:"row"},[n("span",{staticClass:"title"},[t._v("Speed ("+t._s(t.speed)+")")]),n("input",{attrs:{name:"speed",type:"range",min:"1",max:"1001"},domProps:{value:t.speed},on:{change:t.handleSpeedChange}})]),n("div",{staticClass:"row"},[n("button",{on:{click:function(e){return t.handleTemplateClick()}}},[t._v("Template")])])])},u=[],c=(n("cb29"),n("7db0"),n("caad"),n("b64b"),n("2532"),n("d4ec")),d=n("bee2"),h=1,p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c["a"])(this,t),this.source=e,this.row=0,this.column=0}return Object(d["a"])(t,[{key:"setCell",value:function(t,e){this.row=t,this.column=e}},{key:"getCellStatus",value:function(){return this.source[this.row][this.column]}},{key:"isCellAlive",value:function(){return this.getCellStatus()===h}},{key:"getTopLeft",value:function(){return this.source[this.row-1]&&this.source[this.row-1][this.column-1]?this.source[this.row-1][this.column-1]:0}},{key:"getTop",value:function(){return this.source[this.row-1]?this.source[this.row-1][this.column]:0}},{key:"getTopRight",value:function(){return this.source[this.row-1]&&this.source[this.row-1][this.column+1]?this.source[this.row-1][this.column+1]:0}},{key:"getRight",value:function(){return this.source[this.row]&&this.source[this.row][this.column+1]?this.source[this.row][this.column+1]:0}},{key:"getBottomRight",value:function(){return this.source[this.row+1]&&this.source[this.row+1][this.column+1]?this.source[this.row+1][this.column+1]:0}},{key:"getBottom",value:function(){return this.source[this.row+1]?this.source[this.row+1][this.column]:0}},{key:"getBottomLeft",value:function(){return this.source[this.row+1]&&this.source[this.row+1][this.column-1]?this.source[this.row+1][this.column-1]:0}},{key:"getLeft",value:function(){return this.source[this.row]&&this.source[this.row][this.column-1]?this.source[this.row][this.column-1]:0}},{key:"getNeighborsCount",value:function(){var t=this.getTop(),e=this.getRight(),n=this.getBottom(),s=this.getLeft(),o=this.getTopLeft(),r=this.getTopRight(),a=this.getBottomRight(),i=this.getBottomLeft();return t+e+n+s+o+r+a+i}}]),t}(),f=function(t){return 0===Object.keys(t).length},m=function(t,e){for(var n=[],s=new p(t),o=0,r=t.length;o<r;o+=1){for(var a=[],i=function(t,n){s.setCell(o,t);var r=s.getCellStatus(),i=s.getNeighborsCount(),l=e.find((function(t){return t.state===r&&t.has.includes(i)}));!l||f(l)?a.push(0):a.push(l.becomes)},l=0,u=t[o].length;l<u;l+=1)i(l,u);n.push(a)}return n},v={cols:20,rows:20},w=function(t,e){for(var n=new Array(e),s=0;s<e;s+=1)n[s]=new Array(t).fill(0);return n},g=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],b={name:"Controls",props:["step","rows","cols","speed","started"],methods:{handleStartStop:function(){this.started?this.$emit("stop"):this.$emit("start")},handleClear:function(){this.$emit("clear")},handleRowsChange:function(t){this.$emit("updateworld",{speed:this.speed,rows:parseInt(t.target.value,10),cols:this.cols})},handleColsChange:function(t){this.$emit("updateworld",{speed:this.speed,rows:this.rows,cols:parseInt(t.target.value,10)})},handleSpeedChange:function(t){this.$emit("updatespeed",{speed:parseInt(t.target.value,10)})},handleTemplateClick:function(){this.$emit("forceworld",{world:g})}}},C=b,_=(n("2032"),n("2877")),k=Object(_["a"])(C,l,u,!1,null,"5b95e61c",null),$=k.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[t._m(0),n("tbody",[t._l(t.rules,(function(e){return n("rule",t._b({key:e.id,on:{removerule:t.handleRemoveRule}},"rule",e,!1))})),n("rule-form",{attrs:{addrule:t.handleAddRule}})],2)])},R=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Is")]),n("th",[t._v("Has")]),n("th",[t._v("Becomes")])])])}],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(t._s(t.labels[t.state]))]),n("td",[t._v(t._s(t.has.join(", ")))]),n("td",[t._v(t._s(t.labels[t.becomes]))]),n("td",[n("button",{on:{click:function(e){return t.handleButtonClick(t.id)}}},[t._v("x")])])])},x=[],j={name:"Rule",props:["id","state","has","becomes"],data:function(){return{labels:["Dead","Alive"]}},methods:{handleButtonClick:function(t){this.$emit("removerule",{id:t})}}},O=j,P=Object(_["a"])(O,S,x,!1,null,null,null),I=P.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[n("select",{attrs:{name:"state"},domProps:{value:t.state},on:{change:t.handleStateChange}},[n("option",{domProps:{value:1}},[t._v("Alive")]),n("option",{domProps:{value:0}},[t._v("Dead")])])]),n("td",[n("input",{attrs:{name:"has",type:"text"},domProps:{value:t.has.join(",")},on:{change:t.handleHasChange}})]),n("td",[n("select",{attrs:{name:"becomes"},domProps:{value:t.becomes},on:{change:t.handleBecomesChange}},[n("option",{domProps:{value:1}},[t._v("Alive")]),n("option",{domProps:{value:0}},[t._v("Dead")])])]),n("td",[n("button",{on:{click:t.handleButtonClick}},[t._v("Add")])])])},B=[],T=(n("ac1f"),n("1276"),{name:"RuleForm",data:function(){return{state:1,has:[],becomes:1}},methods:{handleStateChange:function(t){this.state=t.target.value},handleHasChange:function(t){this.has=t.target.value.split(",")},handleBecomesChange:function(t){this.becomes=t.target.value},handleButtonClick:function(){this.$emit("addrule",{state:this.state,has:this.has,becomes:this.becomes}),this.has=[]}}}),W=T,E=Object(_["a"])(W,A,B,!1,null,null,null),L=E.exports,F={name:"Rules",props:["rules"],components:{Rule:I,RuleForm:L},methods:{handleAddRule:function(t){this.$emit("addrule",t)},handleRemoveRule:function(t){this.$emit("removerule",t)}}},M=F,U=(n("d5c5"),Object(_["a"])(M,y,R,!1,null,"1cd312a4",null)),D=U.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.world,(function(e,s){return n("div",{key:s,staticClass:"row"},t._l(e,(function(e,o){return n("div",{key:o,staticClass:"cell",on:{click:function(e){return t.handleCellClick(s,o)}}},[n("div",{staticClass:"inner-cell",class:{active:1===e}})])})),0)})),0)},J=[],N={name:"World",props:["world"],methods:{handleCellClick:function(t,e){this.$emit("cellclick",{rowIndex:t,columnIndex:e})}}},q=N,z=(n("e949"),Object(_["a"])(q,H,J,!1,null,"22e49df8",null)),G=z.exports,K=(n("d3b7"),n("25f0"),function(t){return new Promise((function(e){return setTimeout(e,t)}))}),Q=function(){return Math.random().toString(36).substr(2)},V={name:"App",components:{Controls:$,Rules:D,World:G},methods:{handleAddRule:function(t){this.$store.commit("addRule",t)},handleRemoveRule:function(t){this.$store.commit("removeRule",t.id)},handleStart:function(){this.$store.commit("start"),this.nextStep()},handleStop:function(){this.$store.commit("stop")},handleClear:function(){this.$store.commit("clear")},handleUpdateWorld:function(t){var e=t.rows,n=t.cols;this.$store.commit("updateWorld",{newRows:e,newCols:n})},handleUpdateSpeed:function(t){var e=t.speed;this.$store.commit("updateSpeed",e)},nextStep:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.started){e.next=5;break}return requestAnimationFrame((function(){var e=m(t.$store.state.world,t.$store.state.rules);t.$store.commit("nextWorld",{world:e,incStep:!0})})),e.next=4,K(1e3-t.$store.state.speed);case 4:t.nextStep();case 5:case"end":return e.stop()}}),e)})))()},handleCellClick:function(t){var e=t.rowIndex,n=t.columnIndex;this.$store.commit("clickCell",{rowIndex:e,columnIndex:n})},handleForceWorld:function(t){this.$store.commit("nextWorld",{world:t.world,incStep:!1})}}},X=V,Y=(n("a269"),Object(_["a"])(X,r,a,!1,null,"09726cd9",null)),Z=Y.exports;n("db43");s["a"].use(o["a"]),s["a"].config.productionTip=!1;var tt=new o["a"].Store({state:{rules:[{id:Q(),state:1,has:[2,3],becomes:1},{id:Q(),state:0,has:[3],becomes:1}],started:!1,step:0,rows:v.rows,cols:v.cols,speed:700,world:w(v.rows,v.cols)},mutations:{addRule:function(t,e){var n=e.state,s=e.has,o=e.becomes;t.rules.push({id:Q(),state:parseInt(n,10),has:s.filter((function(t){return t})).map((function(t){return parseInt(t,10)})),becomes:parseInt(o,10)})},removeRule:function(t,e){var n=t.rules.findIndex((function(t){return t.id!==e}));t.rules.splice(n,1)},start:function(t){t.started=!0},stop:function(t){t.started=!1},clear:function(t){t.world=w(t.rows,t.cols)},updateWorld:function(t,e){var n=e.newRows,s=e.newCols;t.rows=n,t.cols=s,t.world=w(n,s)},updateSpeed:function(t,e){t.speed=e},clickCell:function(t,e){var n=e.rowIndex,s=e.columnIndex,o=t.world.slice(0),r=o[n][s],a=1-r;o[n].splice(s,1,a),t.world=o},nextWorld:function(t,e){var n=e.world,s=e.incStep;t.world=n,s&&(t.step+=1)}}});new s["a"]({render:function(t){return t(Z)},store:tt}).$mount("#app")},"95a4":function(t,e,n){},a269:function(t,e,n){"use strict";var s=n("2445"),o=n.n(s);o.a},d5c5:function(t,e,n){"use strict";var s=n("95a4"),o=n.n(s);o.a},db43:function(t,e,n){},e949:function(t,e,n){"use strict";var s=n("ec32"),o=n.n(s);o.a},ec32:function(t,e,n){}});
//# sourceMappingURL=app.c8bbdda2.js.map